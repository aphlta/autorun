# SR 测试用例

本文件夹包含了 SR (Smart Run) 工具的完整测试套件，涵盖功能测试、性能测试和集成测试。

## 测试脚本说明

### 1. test_sr_comprehensive.sh
**综合功能测试** - 全面测试SR的所有核心功能
- ✅ 基本功能：精确匹配、部分匹配、不同命令匹配
- ✅ 模糊匹配：拼写错误容错、缺少/多余字母匹配、复杂模糊匹配
- ✅ 选项测试：列表模式(-l)、频率排序(-r)、时间排序(-t)
- ✅ 边界情况：空查询、不存在命令、特殊字符处理
- ✅ 路径过滤：绝对路径过滤、相对路径过滤
- ✅ 帮助和调试：帮助信息、调试模式

### 2. test_sr_performance.sh
**性能测试** - 测试SR在不同数据量下的性能表现
- 📊 小数据量测试（100条记录）
- 📊 中等数据量测试（1000条记录）
- 📊 大数据量测试（5000条记录）
- 📊 模糊匹配性能测试
- 📊 复杂查询性能测试
- 📈 性能指标：查询耗时、数据文件大小、处理速度

### 3. test_sr_integration.sh
**集成测试** - 测试SR与shell环境的集成功能
- 🔧 基本集成：source加载、alias设置
- 📝 命令记录：自动记录、危险命令过滤
- 🌍 环境变量：_SR_DATA、_SR_DEBUG、_SR_FUZZY_LEVEL
- 🐚 Shell兼容性：Bash、Zsh支持
- 📁 数据文件操作：读取、权限检查
- ⚠️ 错误处理：不存在文件、无效参数
- 🚀 性能集成：大数据文件处理

### 4. test_fuzzy_matching.sh
**模糊匹配专项测试** - 专门验证模糊匹配算法
- 🎯 精确匹配验证
- 🔍 各种模糊匹配场景
- 📝 拼写错误容错测试

## 使用方法

```bash
# 运行所有测试（推荐）
for test in test_*.sh; do
    echo "运行 $test..."
    ./$test
    echo "---"
done

# 单独运行测试
./test_sr_comprehensive.sh    # 综合功能测试
./test_sr_performance.sh      # 性能测试
./test_sr_integration.sh      # 集成测试
./test_fuzzy_matching.sh      # 模糊匹配测试
```

## 注意事项

- 所有测试脚本都会创建临时测试数据，测试完成后会自动清理
- 测试脚本不会影响您的实际 SR 数据文件
- 如果测试失败，请检查 SR 脚本的语法和逻辑是否正确

这些测试用例确保了 SR 工具的模糊匹配功能能够正确处理各种输入情况，包括拼写错误、部分匹配和复杂的模糊查询。